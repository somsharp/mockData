System.register(["./p-2cf3beef.system.js"],(function(e){"use strict";var t,n,i,a,r;return{setters:[function(e){t=e.r;n=e.h;i=e.d;a=e.H;r=e.c}],execute:function(){var o=':host{max-width:100%;font-family:"Segoe UI", "Segoe UI Semibold", "Segoe UI Web (West European)",\r\n  -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif}:host(.error){border-color:#e79804}.layout{display:-ms-flexbox;display:flex;padding-top:10px;padding-right:16px;padding-bottom:8px;padding-left:16px;-ms-flex:1 1 0%;flex:1 1 0%}.layout-main-header{background-color:#f8f8f8}.cards{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:start;align-items:flex-start;-ms-flex-direction:row;flex-direction:row;max-height:100vh}.card{margin:10px;width:200px}.label{color:#333333;margin:0;font-size:14px;font-family:Segoe UI;font-weight:bold}.value{color:#333333;margin:0;font-size:12px;margin-top:5px;font-family:Segoe UI}';var l=function(){function e(e){t(this,e);this.paymentNumberInputValid=false;this.loading=false}e.prototype.SupplierIdChanged=function(e,t){if(e!==t){this.paymentNumberInputValue=e;this.paymentNumberInputValid=true;this.fetchPaymentData(e)}};e.prototype.onUserInput=function(e){this.paymentNumberInputValue=e.target.value;if(this.paymentNumberInputValue.trim()!==""){this.paymentNumberInputValid=true}else{this.paymentNumberInputValid=false}};e.prototype.onFetchPaymentData=function(e){e.preventDefault();this.paymentNumber=this.paymentNumberInputElement.value};e.prototype.componentWillLoad=function(){};e.prototype.componentDidLoad=function(){if(this.paymentNumber){this.paymentNumberInputValue=this.paymentNumber;this.paymentNumberInputValid=true;this.fetchPaymentData(this.paymentNumber)}};e.prototype.componentWillUpdate=function(){};e.prototype.componentDidUpdate=function(){};e.prototype.componentDidUnload=function(){};e.prototype.onPaymentSelected=function(e){if(e.detail&&e.detail!==this.paymentNumber){this.paymentNumber=e.detail}};e.prototype.fetchPaymentData=function(e){var t=this;console.log("loading ",e);this.payment=null;this.loading=true;fetch("http://localhost:8090/data/payment.json").then((function(e){if(e.status!==200){throw new Error("Invalid!")}return e.json()})).then((function(e){t.payment=e;t.loading=false})).catch((function(e){t.error=e.message;t.payment=null;t.loading=false}))};e.prototype.hostData=function(){return{class:this.error?"error":""}};e.prototype.renderInvoice=function(){if(!this.payment)return n("span",null);var e=[{field:"supplierInvoiceNumber",heading:"Supplier Invoice Number"},{field:"invoiceNumber",heading:"Microsoft Invoice Number"},{field:"invoiceAmount",heading:"Amount Paid"},{field:"clearedDate",heading:"Approved Date"},{field:"fiscalYear",heading:"Fiscal Year"}];return[n("div",{class:"layout-main-header"},n("div",{class:"cards"},n("div",{class:"card"},n("div",{class:"label"},"Payment#"),n("div",{class:"value"},this.paymentNumber)),n("div",{class:"card"},n("div",{class:"label"},"Payment Date"),n("div",{class:"value"},"27-Oct-2018")),n("div",{class:"card"},n("div",{class:"label"},"Total Payment Amount"),n("div",{class:"value"},"300.00 EUR")),n("div",{class:"card"},n("div",{class:"label"},"Payment Status"),n("div",{class:"value"},"PaymentInProgress")),n("div",{class:"card"},n("div",{class:"label"},"Company Code"),n("div",{class:"value"},"1033")))),n("dxp-table",{characters:this.payment.lines,columns:e})]};e.prototype.renderInputComponent=function(){var e=this;if(!this.allowInput)return null;return n("form",{class:"layout",onSubmit:this.onFetchPaymentData.bind(this)},n("input",{id:"payment-number",ref:function(t){return e.paymentNumberInputElement=t},value:this.paymentNumberInputValue,onInput:this.onUserInput.bind(this)}),n("button",{type:"submit",disabled:!this.paymentNumberInputValid||this.loading},"Test"))};e.prototype.__stencil_render=function(){var e=this.renderInvoice();if(this.loading){e=n("uc-spinner",null)}return[n("div",null,this.renderInputComponent(),n("div",null,e))]};Object.defineProperty(e.prototype,"el",{get:function(){return i(this)},enumerable:false,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{paymentNumber:["SupplierIdChanged"]}},enumerable:false,configurable:true});e.prototype.render=function(){return n(a,this.hostData(),this.__stencil_render())};return e}();e("payment_detail",l);l.style=o;var s=':host{max-width:100%;font-family:"Segoe UI", "Segoe UI Semibold", "Segoe UI Web (West European)",\r\n  -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif}:host(.error){border-color:#e79804}.no-input{display:none}.layout{display:-ms-flexbox;display:flex;padding-top:10px;padding-right:16px;padding-bottom:8px;padding-left:16px;-ms-flex:1 1 0%;flex:1 1 0%}';var p=function(){function e(e){var n=this;t(this,e);this.supplierIdInputValid=false;this.loading=false;this.handlePaymentNumberClick=function(e){n.ucPaymentSelected.emit(e.PaymentDocumentNumber)};this.ucPaymentSelected=r(this,"ucPaymentSelected",7)}e.prototype.onPaymentTileFullScreenSelected=function(e){if(e.detail&&e.detail!==this.filter){this.filter=e.detail;this.fetchPaymentData(this.supplierId)}};e.prototype.SupplierIdChanged=function(e,t){if(e!==t){this.supplierIdInputValue=e;this.supplierIdInputValid=true;this.fetchPaymentData(e)}};e.prototype.onUserInput=function(e){this.supplierIdInputValue=e.target.value;if(this.supplierIdInputValue.trim()!==""){this.supplierIdInputValid=true}else{this.supplierIdInputValid=false}};e.prototype.onFetchPaymentData=function(e){e.preventDefault();this.supplierId=this.supplierIdInputElement.value};e.prototype.componentWillLoad=function(){};e.prototype.componentDidLoad=function(){if(this.supplierId){this.supplierIdInputValue=this.supplierId;this.supplierIdInputValid=true;this.fetchPaymentData(this.supplierId)}};e.prototype.componentWillUpdate=function(){};e.prototype.componentDidUpdate=function(){};e.prototype.componentDidUnload=function(){};e.prototype.onSupplierSelected=function(e){if(e.detail&&e.detail!==this.supplierId){this.supplierId=e.detail}};e.prototype.fetchPaymentData=function(e){var t=this;console.log(e);this.loading=true;fetch("http://localhost:8090/data/payments.json").then((function(e){if(e.status!==200){throw new Error("Invalid!")}return e.json()})).then((function(e){var n=e;t.payments=[];var i=function(e){var i=t.payments.filter((function(t){return t.PaymentDocumentNumber===n[e].PaymentDocumentNumber}));if(i.length==0){t.payments.push(n[e])}};for(var a in n){i(a)}if(t.filter.length>0)t.payments=t.payments.filter((function(e){return e.PrimaryStatus===t.filter}));t.loading=false})).catch((function(e){t.error=e.message;t.loading=false}))};e.prototype.hostData=function(){return{class:this.error?"error":""}};e.prototype.renderPaymentNumber=function(e){var t=this;return n("a",{href:"#",onClick:function(){t.handlePaymentNumberClick(e)}},e.PaymentDocumentNumber)};e.prototype.renderInvoiceDueDate=function(e){var t=new Intl.DateTimeFormat("en-US").format(new Date(e.dueDate));return n("span",null,t)};e.prototype.__stencil_render=function(){var e=this;var t=[{field:"PaymentDocumentNumber",heading:"Payment Doc Number",onRenderCell:this.renderPaymentNumber.bind(this)},{field:"PrimaryStatus",heading:"Status"},{field:"SecondaryStatus",heading:"Details"},{field:"VendorID",heading:"Supplier ID"},{field:"CompanyCode",heading:"Company Code"}];var i="";if(this.payments){i="Showing: All Payments ("+this.payments.length+")";if(this.filter){i="Showing: "+this.filter+" ("+this.payments.length+")"}}var a=n("dxp-table",{heading:i,characters:this.payments,columns:t});if(this.loading){a=n("uc-spinner",null)}return[n("form",{class:"layout "+this.showTestInput?"no-input":"",onSubmit:this.onFetchPaymentData.bind(this)},n("input",{id:"supplier-id",ref:function(t){return e.supplierIdInputElement=t},value:this.supplierIdInputValue,onInput:this.onUserInput.bind(this)}),n("button",{type:"submit",disabled:!this.supplierIdInputValid||this.loading},"Test")),n("div",null,a)]};Object.defineProperty(e.prototype,"el",{get:function(){return i(this)},enumerable:false,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{supplierId:["SupplierIdChanged"]}},enumerable:false,configurable:true});e.prototype.render=function(){return n(a,this.hostData(),this.__stencil_render())};return e}();e("payment_list",p);p.style=s}}}));