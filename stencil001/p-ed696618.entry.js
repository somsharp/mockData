import{r,c as o,h as i}from"./p-ac6f7314.js";import{A as t}from"./p-9fb74208.js";class c{constructor(i){r(this,i),this.searchResults=[],this.loading=!1,this.ucSymbolSelected=o(this,"ucSymbolSelected",7)}onFindStocks(r){r.preventDefault(),this.loading=!0,fetch(`https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=${this.stockNameInput.value}&apikey=${t}`).then(r=>r.json()).then(r=>{this.searchResults=r.bestMatches.map(r=>({name:r["2. name"],symbol:r["1. symbol"]})),console.log(this.searchResults),this.loading=!1}).catch(r=>{console.log(r),this.loading=!1})}onSelectSymbol(r){console.log("clicked symbol:",r),this.ucSymbolSelected.emit(r)}render(){let r=i("ul",null,this.searchResults.map(r=>i("li",{onClick:this.onSelectSymbol.bind(this,r.symbol)},i("strong",null,r.symbol)," - ",r.name)));return this.loading&&(r=i("uc-spinner",null)),[i("form",{onSubmit:this.onFindStocks.bind(this)},i("input",{id:"stock-symbol",ref:r=>this.stockNameInput=r}),i("button",{type:"submit"},"Find!")),r]}}c.style=":host{font-family:sans-serif;border:2px solid var(--color-primary, black);margin:2rem;padding:1rem;display:block;width:20rem;max-width:100%}form input{font:inherit;color:var(--color-primary, black);padding:0.1rem 0.25rem;display:block;margin-bottom:0.5rem}form input:focus,form button:focus{outline:none}form button{font:inherit;padding:0.25rem 0.5rem;border:1px solid var(--color-primary, black);background:var(--color-primary, black);color:var(--color-primary-inverse, white);cursor:pointer}form button:hover,form button:active{background:var(--color-primary-highlight, grey);border-color:var(--color-primary-highlight, grey)}form button:disabled{background:#ccc;border-color:#ccc;color:white;cursor:not-allowed}ul{margin:0;padding:0;list-style:none}li{margin:0.25rem 0;padding:0.25rem;border:1px solid #ccc;cursor:pointer}li:hover,li:active{background:var(--color-primary, black);color:var(--color-primary-inverse, white)}";export{c as uc_stock_finder}