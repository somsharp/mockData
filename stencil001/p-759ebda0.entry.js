import{r as t,c as e,h as i,d as s,H as n}from"./p-ac6f7314.js";class o{constructor(i){t(this,i),this.supplierIdInputValid=!1,this.loading=!1,this.ccmInvoiceTileFullScreenSelected=e(this,"ccmInvoiceTileFullScreenSelected",7)}SupplierIdChanged(t,e){t!==e&&(this.supplierIdInputValue=t,this.supplierIdInputValid=!0,this.fetchCcmInvoiceData(t))}onFullSelectedHandler(t){"ccmInvoiceCard"==t.detail&&(console.log("Received the custom fullSelectedHandler event: ",t.detail),this.onExpandClick&&this.onExpandClick(t.detail),this.ccmInvoiceTileFullScreenSelected.emit(""))}onUserInput(t){this.supplierIdInputValue=t.target.value,this.supplierIdInputValid=""!==this.supplierIdInputValue.trim()}onFetchCcmInvoiceData(t){t.preventDefault(),this.supplierId=this.supplierIdInputElement.value}componentWillLoad(){}componentDidLoad(){this.supplierId&&(this.supplierIdInputValue=this.supplierId,this.supplierIdInputValid=!0,this.fetchCcmInvoiceData(this.supplierId))}componentWillUpdate(){}componentDidUpdate(){}componentDidUnload(){}onSupplierSelected(t){t.detail&&t.detail!==this.supplierId&&(this.supplierId=t.detail)}fetchCcmInvoiceData(t){console.log(t),this.engagements=0,this.totalinvoice=0,this.volume=0,this.nrc=0,this.ppa=0,fetch("http://localhost:8090/data/invoices.json").then(t=>{if(200!==t.status)throw new Error("Invalid!");return t.json()}).then(t=>{console.log(t.invoiceSummaries.length),this.engagements=380,this.totalinvoice=36,this.volume=21,this.nrc=9,this.ppa=6,this.loading=!1}).catch(t=>{this.error=t.message,this.engagements=null,this.loading=!1})}hostData(){return{class:this.error?"error":""}}renderInputComponent(){return this.allowInput?i("form",{class:"layout",onSubmit:this.onFetchCcmInvoiceData.bind(this)},i("input",{id:"supplier-id",ref:t=>this.supplierIdInputElement=t,value:this.supplierIdInputValue,onInput:this.onUserInput.bind(this)}),i("button",{type:"submit",disabled:!this.supplierIdInputValid||this.loading},"Test")):null}onFullScreenSelected(){}__stencil_render(){let t=i("ccm-invoice-card-summary",{"slim-layout":this.slimLayout,engagements:this.engagements,totalinvoice:"$"+this.totalinvoice+"k",volume:"$"+this.volume+"k",nrc:"$"+this.nrc+"k",ppa:"$"+this.ppa+"k"});return this.loading&&(t=i("uc-spinner",null)),this.slimLayout?i("div",{class:"slimContainer"},i("h1",null,"Call Center Invoices ("+this.engagements+")"),t):[i("dxp-card",{"card-key":"ccmInvoiceCard","card-title":"Call Center Xnvoice"},this.renderInputComponent(),i("div",null,t))]}get el(){return s(this)}static get watchers(){return{supplierId:["SupplierIdChanged"]}}render(){return i(n,this.hostData(),this.__stencil_render())}}o.style=':host{max-width:100%;font-family:"Segoe UI", "Segoe UI Semibold", "Segoe UI Web (West European)",\r\n  -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif}:host(.error){border-color:#e79804}.layout{display:-ms-flexbox;display:flex;padding-top:10px;padding-right:16px;padding-bottom:8px;padding-left:16px;-ms-flex:1 1 0%;flex:1 1 0%}.slimContainer{background-color:#f8f8f8;padding-left:20px}.slimContainer h1{font-size:32px;padding-top:15px}';export{o as ccm_invoice_card}